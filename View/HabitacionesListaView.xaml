<UserControl x:Class="Gestión_Hotelera.View.HabitacionesListaView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
            >

    <Grid Margin="10">

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>

        <!-- =======================
              FILTROS SUPERIORES
         ======================= -->
        <StackPanel Orientation="Horizontal"
                    Margin="0,0,0,10">

            <!-- HOTEL -->
            <StackPanel>
                <TextBlock Text="Hotel" Foreground="White"/>
                <ComboBox ItemsSource="{Binding Hoteles}"
                          DisplayMemberPath="Nombre"
                          SelectedItem="{Binding HotelSeleccionado}"
                          Style="{StaticResource DarkComboBoxStyle}"
                          Width="180"/>
            </StackPanel>

            <!-- ESTADO -->
            <StackPanel>
                <TextBlock Text="Estado" Foreground="White"/>
                <ComboBox ItemsSource="{Binding Estados}"
                          SelectedItem="{Binding EstadoSeleccionado}"
                          Style="{StaticResource DarkComboBoxStyle}"
                          Width="150"/>
            </StackPanel>

            <!-- TIPO -->
            <StackPanel>
                <TextBlock Text="Tipo" Foreground="White"/>
                <ComboBox ItemsSource="{Binding Tipos}"
                          DisplayMemberPath="NombreTipo"
                          SelectedItem="{Binding TipoSeleccionado}"
                          Style="{StaticResource DarkComboBoxStyle}"
                          Width="200"/>
            </StackPanel>

            <!-- NÚMERO -->
            <StackPanel>
                <TextBlock Text="Número" Foreground="White"/>
                <TextBox Text="{Binding BusquedaNumero}"
                         Style="{StaticResource DarkInputStyle}"
                         Width="100"/>
            </StackPanel>

            <!-- REFRESCAR -->
            <Button Content="Refrescar"
                    Command="{Binding RefrescarCommand}"
                    Style="{StaticResource KumaButton}"
                    Margin="10,20,0,0"/>
        </StackPanel>

        <!-- =======================
              TABLA HABITACIONES
         ======================= -->
        <DataGrid Grid.Row="1"
                  ItemsSource="{Binding HabitacionesFiltradas}"
                  AutoGenerateColumns="False"
                  Style="{StaticResource KumaDataGrid}">

            <DataGrid.Columns>
                <DataGridTextColumn Header="Número"
                                    Binding="{Binding NumeroHabitacion}"
                                    Width="100"/>

                <DataGridTextColumn Header="Piso"
                                    Binding="{Binding Piso}"
                                    Width="80"/>

                <DataGridTextColumn Header="Estado"
                                    Binding="{Binding Estado}"
                                    Width="150"/>

                <DataGridTextColumn Header="Tipo"
                                    Binding="{Binding TipoNombre}"
                                    Width="200"/>

                <DataGridTemplateColumn Header="Acciones" Width="120">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Content="Editar"
                                    Command="{Binding DataContext.EditarCommand, 
                                              RelativeSource={RelativeSource AncestorType=DataGrid}}"
                                    CommandParameter="{Binding}"
                                    Style="{StaticResource KumaButton}"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>

            </DataGrid.Columns>
        </DataGrid>

    </Grid>

</UserControl>